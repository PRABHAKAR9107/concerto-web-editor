{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_canvas_core_1 = require(\"@projectstorm/react-canvas-core\");\n\nconst NodeModel_1 = require(\"../node/NodeModel\");\n\nclass NodeLayerModel extends react_canvas_core_1.LayerModel {\n  constructor() {\n    super({\n      type: 'diagram-nodes',\n      isSvg: false,\n      transformed: true\n    });\n  }\n\n  addModel(model) {\n    if (!(model instanceof NodeModel_1.NodeModel)) {\n      throw new Error('Can only add nodes to this layer');\n    }\n\n    model.registerListener({\n      entityRemoved: () => {\n        this.getParent().removeNode(model);\n      }\n    });\n    super.addModel(model);\n  }\n\n  getChildModelFactoryBank(engine) {\n    return engine.getNodeFactories();\n  }\n\n  getNodes() {\n    return this.getModels();\n  }\n\n}\n\nexports.NodeLayerModel = NodeLayerModel;","map":{"version":3,"sources":["../../../../src/entities/node-layer/NodeLayerModel.ts"],"names":[],"mappings":";;;;;;AAAA,MAAA,mBAAA,GAAA,OAAA,CAAA,iCAAA,CAAA;;AACA,MAAA,WAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AASA,MAAa,cAAb,SAA+F,mBAAA,CAAA,UAA/F,CAA4G;AAC3G,EAAA,WAAA,GAAA;AACC,UAAM;AACL,MAAA,IAAI,EAAE,eADD;AAEL,MAAA,KAAK,EAAE,KAFF;AAGL,MAAA,WAAW,EAAE;AAHR,KAAN;AAKA;;AAED,EAAA,QAAQ,CAAC,KAAD,EAAqB;AAC5B,QAAI,EAAE,KAAK,YAAY,WAAA,CAAA,SAAnB,CAAJ,EAAmC;AAClC,YAAM,IAAI,KAAJ,CAAU,kCAAV,CAAN;AACA;;AACD,IAAA,KAAK,CAAC,gBAAN,CAAuB;AACtB,MAAA,aAAa,EAAE,MAAK;AAClB,aAAK,SAAL,GAAkC,UAAlC,CAA6C,KAA7C;AACD;AAHqB,KAAvB;AAKA,UAAM,QAAN,CAAe,KAAf;AACA;;AAED,EAAA,wBAAwB,CAAC,MAAD,EAAoB;AAC3C,WAAO,MAAM,CAAC,gBAAP,EAAP;AACA;;AAED,EAAA,QAAQ,GAAA;AACP,WAAO,KAAK,SAAL,EAAP;AACA;;AA3B0G;;AAA5G,OAAA,CAAA,cAAA,GAAA,cAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_canvas_core_1 = require(\"@projectstorm/react-canvas-core\");\nconst NodeModel_1 = require(\"../node/NodeModel\");\nclass NodeLayerModel extends react_canvas_core_1.LayerModel {\n    constructor() {\n        super({\n            type: 'diagram-nodes',\n            isSvg: false,\n            transformed: true\n        });\n    }\n    addModel(model) {\n        if (!(model instanceof NodeModel_1.NodeModel)) {\n            throw new Error('Can only add nodes to this layer');\n        }\n        model.registerListener({\n            entityRemoved: () => {\n                this.getParent().removeNode(model);\n            }\n        });\n        super.addModel(model);\n    }\n    getChildModelFactoryBank(engine) {\n        return engine.getNodeFactories();\n    }\n    getNodes() {\n        return this.getModels();\n    }\n}\nexports.NodeLayerModel = NodeLayerModel;\n//# sourceMappingURL=NodeLayerModel.js.map"]},"metadata":{},"sourceType":"script"}