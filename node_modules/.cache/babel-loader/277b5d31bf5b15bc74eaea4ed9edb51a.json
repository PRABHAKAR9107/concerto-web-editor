{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_canvas_core_1 = require(\"@projectstorm/react-canvas-core\");\n\nconst LinkModel_1 = require(\"../link/LinkModel\");\n\nclass LinkLayerModel extends react_canvas_core_1.LayerModel {\n  constructor() {\n    super({\n      type: 'diagram-links',\n      isSvg: true,\n      transformed: true\n    });\n  }\n\n  addModel(model) {\n    if (!(model instanceof LinkModel_1.LinkModel)) {\n      throw new Error('Can only add links to this layer');\n    }\n\n    model.registerListener({\n      entityRemoved: () => {\n        this.getParent().removeLink(model);\n      }\n    });\n    super.addModel(model);\n  }\n\n  getLinks() {\n    return this.getModels();\n  }\n\n  getChildModelFactoryBank(engine) {\n    return engine.getLinkFactories();\n  }\n\n}\n\nexports.LinkLayerModel = LinkLayerModel;","map":{"version":3,"sources":["../../../../src/entities/link-layer/LinkLayerModel.ts"],"names":[],"mappings":";;;;;;AAAA,MAAA,mBAAA,GAAA,OAAA,CAAA,iCAAA,CAAA;;AACA,MAAA,WAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AASA,MAAa,cAAb,SAA+F,mBAAA,CAAA,UAA/F,CAA4G;AAC3G,EAAA,WAAA,GAAA;AACC,UAAM;AACL,MAAA,IAAI,EAAE,eADD;AAEL,MAAA,KAAK,EAAE,IAFF;AAGL,MAAA,WAAW,EAAE;AAHR,KAAN;AAKA;;AAED,EAAA,QAAQ,CAAC,KAAD,EAAqB;AAC5B,QAAI,EAAE,KAAK,YAAY,WAAA,CAAA,SAAnB,CAAJ,EAAmC;AAClC,YAAM,IAAI,KAAJ,CAAU,kCAAV,CAAN;AACA;;AACD,IAAA,KAAK,CAAC,gBAAN,CAAuB;AACtB,MAAA,aAAa,EAAE,MAAK;AAClB,aAAK,SAAL,GAAkC,UAAlC,CAA6C,KAA7C;AACD;AAHqB,KAAvB;AAKA,UAAM,QAAN,CAAe,KAAf;AACA;;AAED,EAAA,QAAQ,GAAA;AACP,WAAO,KAAK,SAAL,EAAP;AACA;;AAED,EAAA,wBAAwB,CAAC,MAAD,EAAoB;AAC3C,WAAO,MAAM,CAAC,gBAAP,EAAP;AACA;;AA3B0G;;AAA5G,OAAA,CAAA,cAAA,GAAA,cAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_canvas_core_1 = require(\"@projectstorm/react-canvas-core\");\nconst LinkModel_1 = require(\"../link/LinkModel\");\nclass LinkLayerModel extends react_canvas_core_1.LayerModel {\n    constructor() {\n        super({\n            type: 'diagram-links',\n            isSvg: true,\n            transformed: true\n        });\n    }\n    addModel(model) {\n        if (!(model instanceof LinkModel_1.LinkModel)) {\n            throw new Error('Can only add links to this layer');\n        }\n        model.registerListener({\n            entityRemoved: () => {\n                this.getParent().removeLink(model);\n            }\n        });\n        super.addModel(model);\n    }\n    getLinks() {\n        return this.getModels();\n    }\n    getChildModelFactoryBank(engine) {\n        return engine.getLinkFactories();\n    }\n}\nexports.LinkLayerModel = LinkLayerModel;\n//# sourceMappingURL=LinkLayerModel.js.map"]},"metadata":{},"sourceType":"script"}